<h2>Administrators</h2>

<ul>
  <% User.where(is_admin: true).all.each do |user| %>
    <li><%= full_name user %></li>
  <% end %>
</ul>

<h2>Non-administrators</h2>
<ul>
  <% User.where(is_admin: false).all.each do |user| %>
    <li><%= full_name user %></li>
  <% end %>
</ul>

<h2>Age of each user</h2>
<ul>
  <% User.all.each do |user| %>
    <% from_date = user.birth_date %>
    <% to_date   = Date.new(2013, 9, 21) %>
    <% age = age_calc to_date, from_date %>

    <li>
      <%= full_name user %> is
      <% if age >= 21 %>
        <%= age %>
      <% else %>
        <%= under_age age %>
      <% end %>

      years old
      
      (from <%= format_date(user.birth_date) %> to <%= format_date(Date.new(2013, 9, 21)) %>) 
    </li>
  <% end %>
</ul>
